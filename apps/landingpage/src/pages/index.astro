---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <!-- Ambient glow orbs -->
  <div class="glow-orb glow-orb-1"></div>
  <div class="glow-orb glow-orb-2"></div>

  <!-- Dot grid overlay -->
  <div class="fixed inset-0 dot-grid opacity-40 pointer-events-none"></div>

  <div class="relative min-h-screen">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 nav-blur">
      <div
        class="mx-auto max-w-7xl px-6 py-4 flex items-center justify-between"
      >
        <a href="/" class="flex items-center gap-3">
          <div
            class="w-10 h-10 rounded-lg bg-surface-elevated border border-border flex items-center justify-center"
          >
            <svg class="w-6 h-6" viewBox="0 0 32 32" fill="none">
              <path d="M10 6L4 16l6 10" stroke="#00ffcc" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M22 6l6 10-6 10" stroke="#00ffcc" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="16" cy="16" r="3" fill="#00ffcc"/>
            </svg>
          </div>
          <span class="font-semibold text-lg tracking-tight">LocalFlag</span>
        </a>

        <div class="flex items-center gap-6">
          <a
            href="/docs"
            class="text-sm text-text-secondary hover-text-accent transition-colors font-medium hidden sm:block"
            >Docs</a
          >
          <a
            href="https://github.com/localflag/react"
            class="text-sm text-text-secondary hover-text-accent transition-colors font-medium hidden sm:block"
            >GitHub</a
          >
          <a
            href="/docs/guides/getting-started"
            class="btn-primary text-sm py-2 px-4"
          >
            Get Started
          </a>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section px-6 relative">
      <div class="mx-auto max-w-7xl">
        <div class="hero-grid items-center">
          <!-- Left Column -->
          <div>
            <div class="animate-fade-up">
              <div class="status-badge mb-8">
                <span class="status-dot"></span>
                <span class="text-text-secondary">v0.1.0</span>
                <span class="text-text-muted">|</span>
                <span class="text-accent">React 19 ready</span>
              </div>
            </div>

            <h1
              class="animate-fade-up delay-100 hero-title font-bold tracking-tight mb-6"
            >
              Feature flags
              <br />
              <span class="text-accent glow-text">that just work</span>
            </h1>

            <p
              class="animate-fade-up delay-200 text-xl text-text-secondary max-w-lg mb-10 leading-relaxed"
            >
              Type-safe feature flags for React. Built-in DevTools. Zero
              configuration. Ship with confidence.
            </p>

            <div class="animate-fade-up delay-300 flex flex-wrap gap-4">
              <a
                href="/docs/guides/getting-started"
                class="btn-primary text-lg"
              >
                <span>Start Building</span>
                <svg
                  class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </a>

              <div class="install-cmd" id="install-cmd">
                <span class="text-text-muted">$</span>
                <code class="text-text-primary">npm i @localflag/react</code>
                <button
                  class="ml-2 text-text-muted hover-text-accent transition-colors"
                  id="copy-btn"
                  title="Copy"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                    ></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <!-- Right Column - Code Preview -->
          <div class="animate-fade-up delay-400 relative">
            <!-- Floating toggle card -->
            <div
              class="absolute -top-4 -left-4 float-card float z-10 hidden lg:block"
            >
              <div class="flex items-center gap-3">
                <span class="text-accent font-mono text-sm">darkMode</span>
                <div
                  class="toggle-switch w-11 h-6 bg-surface-elevated rounded-full relative cursor-pointer border border-border"
                  data-flag="dark"
                >
                  <div
                    class="toggle-track absolute inset-1 rounded-full bg-border-bright"
                  >
                  </div>
                  <div
                    class="toggle-thumb absolute top-1 left-1 w-4 h-4 rounded-full bg-text-primary"
                  >
                  </div>
                </div>
              </div>
            </div>

            <!-- Floating toggle card 2 -->
            <div
              class="absolute -bottom-4 -right-4 float-card float float-delay-1 z-10 hidden lg:block"
            >
              <div class="flex items-center gap-3">
                <span class="text-cyan font-mono text-sm">newUI</span>
                <div
                  class="toggle-switch toggle-active w-11 h-6 bg-surface-elevated rounded-full relative cursor-pointer border border-border"
                  data-flag="ui"
                >
                  <div
                    class="toggle-track absolute inset-1 rounded-full bg-accent"
                  >
                  </div>
                  <div
                    class="toggle-thumb absolute top-1 left-1 w-4 h-4 rounded-full bg-text-primary"
                    style="transform: translateX(20px)"
                  >
                  </div>
                </div>
              </div>
            </div>

            <!-- Code Window -->
            <div class="code-window gradient-border">
              <div class="code-header">
                <div class="flex gap-2">
                  <div class="window-dot window-dot-red"></div>
                  <div class="window-dot window-dot-yellow"></div>
                  <div class="window-dot window-dot-green"></div>
                </div>
                <span class="ml-4 text-xs text-text-muted font-mono"
                  >App.tsx</span
                >
              </div>
              <pre
                class="p-6 text-sm leading-relaxed overflow-x-auto"><code><span class="token-keyword">import</span> {'{'} FeatureFlagProvider, useFeatureFlag {'}'} <span class="token-keyword">from</span> <span class="token-string">'@localflag/react'</span>;

<span class="token-keyword">const</span> <span class="token-const">flags</span> = {'{'}
  darkMode: <span class="token-const">false</span>,
  newUI: <span class="token-const">true</span>,
{'}'} <span class="token-keyword">as const</span>;

<span class="token-keyword">function</span> <span class="token-function">App</span>() {'{'}
  <span class="token-keyword">const</span> isDark = <span class="token-function">useFeatureFlag</span>(<span class="token-string">'darkMode'</span>);

  <span class="token-keyword">return</span> (
    &lt;<span class="token-type">FeatureFlagProvider</span> <span class="text-cyan">flags</span>={'{flags}'}&gt;
      &lt;<span class="token-type">MyApp</span> /&gt;
    &lt;/<span class="token-type">FeatureFlagProvider</span>&gt;
  );
{'}'}</code></pre>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-32 px-6">
      <div class="mx-auto max-w-7xl">
        <div class="text-center mb-16">
          <h2 class="section-title font-bold mb-4">
            Everything you need.
            <span class="text-text-secondary">Nothing you don't.</span>
          </h2>
        </div>

        <div class="features-grid">
          <!-- Type-Safe -->
          <div class="feature-card hover-lift hover-border-accent-30">
            <div class="feature-icon bg-accent-10 border border-accent-20">
              <svg
                class="w-6 h-6 text-accent"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold mb-3">Type-Safe</h3>
            <p class="text-text-secondary leading-relaxed">
              Full TypeScript generics. Autocomplete your flags. Catch errors at
              compile time.
            </p>
          </div>

          <!-- DevTools -->
          <div class="feature-card hover-lift hover-border-cyan-30">
            <div class="feature-icon bg-cyan-10 border border-cyan-20">
              <svg
                class="w-6 h-6 text-cyan"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold mb-3">DevTools</h3>
            <p class="text-text-secondary leading-relaxed">
              Built-in floating panel. Toggle flags in real-time. No browser
              extension needed.
            </p>
          </div>

          <!-- Persistent -->
          <div class="feature-card hover-lift hover-border-emerald-30">
            <div class="feature-icon bg-emerald-10 border border-emerald-20">
              <svg
                class="w-6 h-6 text-emerald"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"
                ></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold mb-3">Persistent</h3>
            <p class="text-text-secondary leading-relaxed">
              Overrides saved to localStorage. Persist across sessions and page
              reloads.
            </p>
          </div>

          <!-- Zero Config -->
          <div class="feature-card hover-lift hover-border-accent-30">
            <div class="feature-icon bg-accent-10 border border-accent-20">
              <svg
                class="w-6 h-6 text-accent"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold mb-3">Zero Config</h3>
            <p class="text-text-secondary leading-relaxed">
              Wrap your app with the provider. Use hooks. Ship. No complex setup
              required.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Start Section -->
    <section class="py-24 px-6">
      <div class="mx-auto max-w-5xl">
        <div class="gradient-border rounded-2xl overflow-hidden">
          <div class="bg-surface quickstart-padding">
            <div class="flex items-center gap-3 mb-10">
              <div class="w-3 h-3 rounded-full bg-accent"></div>
              <span class="font-mono text-sm text-text-muted">Quick Start</span>
            </div>

            <div class="quickstart-grid">
              <div>
                <div class="step-number text-accent">01</div>
                <h3 class="text-lg font-semibold mb-3">Define flags</h3>
                <pre
                  class="text-sm text-text-secondary font-mono leading-relaxed"><code><span class="token-keyword">const</span> flags = {'{'}
  dark: <span class="token-const">false</span>,
  beta: <span class="token-const">true</span>,
{'}'};</code></pre>
              </div>

              <div>
                <div class="step-number text-cyan">02</div>
                <h3 class="text-lg font-semibold mb-3">Wrap your app</h3>
                <pre
                  class="text-sm text-text-secondary font-mono leading-relaxed"><code>&lt;<span class="token-type">FlagProvider</span>
  <span class="text-cyan">flags</span>={'{flags}'}&gt;
  &lt;<span class="token-type">App</span> /&gt;
&lt;/<span class="token-type">FlagProvider</span>&gt;</code></pre>
              </div>

              <div>
                <div class="step-number text-emerald">03</div>
                <h3 class="text-lg font-semibold mb-3">Use the hook</h3>
                <pre
                  class="text-sm text-text-secondary font-mono leading-relaxed"><code><span class="token-keyword">const</span> dark =
  <span class="token-function">useFeatureFlag</span>(<span class="token-string">'dark'</span>);
<span class="token-comment">// boolean</span></code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-32 px-6">
      <div class="mx-auto max-w-4xl text-center">
        <div class="relative">
          <div class="cta-glow"></div>
          <div
            class="relative gradient-border rounded-3xl p-12 sm:p-16 bg-surface"
          >
            <h2 class="section-title font-bold mb-6">
              Ready to ship
              <br />
              <span class="text-accent">with confidence?</span>
            </h2>
            <p class="text-xl text-text-secondary mb-10 max-w-lg mx-auto">
              Start using feature flags in your React app today. Setup takes
              less than a minute.
            </p>
            <div class="flex cta-buttons items-center justify-center gap-4">
              <a
                href="/docs/guides/getting-started"
                class="btn-primary text-lg px-8 py-4"
              >
                Read the Docs
              </a>
              <a
                href="https://github.com/localflag/react"
                class="btn-secondary text-lg px-8 py-4"
              >
                View on GitHub
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 px-6 border-t border-border">
      <div
        class="mx-auto max-w-7xl flex footer-layout items-center justify-between gap-6"
      >
        <div class="flex items-center gap-3">
          <div
            class="w-8 h-8 rounded-lg bg-surface-elevated border border-border flex items-center justify-center"
          >
            <svg class="w-5 h-5" viewBox="0 0 32 32" fill="none">
              <path d="M10 6L4 16l6 10" stroke="#00ffcc" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M22 6l6 10-6 10" stroke="#00ffcc" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="16" cy="16" r="3" fill="#00ffcc"/>
            </svg>
          </div>
          <span class="text-text-secondary font-medium">LocalFlag</span>
        </div>

        <div class="flex items-center gap-8 text-sm text-text-muted">
          <a href="/docs" class="hover-text-accent transition-colors"
            >Documentation</a
          >
          <a
            href="https://github.com/localflag/react"
            class="hover-text-accent transition-colors">GitHub</a
          >
          <a href="/privacy" class="hover-text-accent transition-colors"
            >Privacy</a
          >
          <a href="/impressum" class="hover-text-accent transition-colors"
            >Legal</a
          >
        </div>

        <div class="text-sm text-text-muted font-mono">MIT License</div>
      </div>
    </footer>
  </div>
</Layout>

<script>
  // Copy to clipboard functionality
  document.getElementById("copy-btn")?.addEventListener("click", async () => {
    await navigator.clipboard.writeText("npm i @localflag/react");
    const btn = document.getElementById("copy-btn");
    if (btn) {
      btn.innerHTML =
        '<svg class="w-4 h-4 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>';
      setTimeout(() => {
        btn.innerHTML =
          '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>';
      }, 2000);
    }
  });

  // Toggle switch interaction
  document.querySelectorAll(".toggle-switch").forEach((toggle) => {
    toggle.addEventListener("click", () => {
      toggle.classList.toggle("toggle-active");
      const thumb = toggle.querySelector(".toggle-thumb") as HTMLElement;
      const track = toggle.querySelector(".toggle-track") as HTMLElement;

      if (toggle.classList.contains("toggle-active")) {
        thumb.style.transform = "translateX(20px)";
        track.style.backgroundColor = "var(--color-accent)";
      } else {
        thumb.style.transform = "translateX(0)";
        track.style.backgroundColor = "var(--color-border-bright)";
      }
    });
  });
</script>
